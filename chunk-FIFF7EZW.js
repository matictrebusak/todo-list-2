import{a as V,b as w,c as I,d as M,e as N,f as O,g as q,h as G,i as U,j as A}from"./chunk-ADBT2PPY.js";import{C as m,E as C,F as f,H as g,K as s,L as l,M as R,N as y,O as v,P as a,R as u,S,U as F,W as b,Z as T,f as j,k as c,m as k,p as E,r as h,s as _,u as x,z as p}from"./chunk-JAQA7FXQ.js";function D(e,n){let t=!n?.manualCleanup;t&&!n?.injector&&E(D);let o=t?n?.injector?.get(x)??c(x):null,i;n?.requireSync?i=m({kind:0}):i=m({kind:1,value:n?.initialValue});let d=e.subscribe({next:r=>i.set({kind:1,value:r}),error:r=>{if(n?.rejectErrors)throw r;i.set({kind:2,error:r})}});return o?.onDestroy(d.unsubscribe.bind(d)),b(()=>{let r=i();switch(r.kind){case 1:return r.value;case 2:throw r.error;case 0:throw new j(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}function B(e,n){if(e&1){let t=y();s(0,"form",1),v("ngSubmit",function(){h(t);let i=a(2);return _(i.onSubmit())}),R(1,"input",2)(2,"br")(3,"input",3)(4,"br"),s(5,"button",4),u(6,"Save"),l()()}if(e&2){let t=a(),o=a();f("formGroup",o.editForm),p(),f("placeholder",t.title),p(2),f("placeholder",t.description)}}function $(e,n){if(e&1){let t=y();s(0,"h2"),u(1),l(),s(2,"button",5),v("click",function(){h(t);let i=a(2);return _(i.isEditing.set(!0))}),u(3,"Edit"),l(),s(4,"p"),u(5),l()}if(e&2){let t=a();p(),S(t.title),p(4),S(t.description)}}function z(e,n){if(e&1&&C(0,B,7,3,"form",0)(1,$,6,2),e&2){let t=a();g(0,t.isEditing()?0:1)}}function H(e,n){e&1&&(s(0,"p"),u(1,"Could not find todo..."),l())}var st=(()=>{class e{constructor(){this.todoService=c(A),this.route=c(T),this.fb=c(G),this.paramMap=D(this.route.paramMap),this.isEditing=m(!1),this.todo=b(()=>this.todoService.todos().find(t=>t.id===this.paramMap()?.get("id"))),this.editForm=this.fb.nonNullable.group({title:[this.todo()?.title??"",w.required],description:[this.todo()?.description??""],id:[this.todo()?.id??"",w.required]})}onSubmit(){this.isEditing.set(!1),this.todoService.updateTodo(this.editForm.getRawValue())}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275cmp=k({type:e,selectors:[["app-detail"]],standalone:!0,features:[F],decls:2,vars:1,consts:[[3,"formGroup"],[3,"ngSubmit","formGroup"],["type","text","formControlName","title",3,"placeholder"],["type","text","formControlName","description",3,"placeholder"],["type","submit"],[3,"click"]],template:function(o,i){if(o&1&&C(0,z,2,1)(1,H,2,0),o&2){let d;g(0,(d=i.todo())?0:1,d)}},dependencies:[U,N,V,I,M,O,q],encapsulation:2})}}return e})();export{st as default};
